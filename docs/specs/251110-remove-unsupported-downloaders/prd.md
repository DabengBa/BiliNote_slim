# [移除非核心下载器] - 产品需求文档 (PRD)

> **一句话总结**: 精简视频下载功能，移除对抖音、快手和小宇宙 FM 的支持，以降低维护成本并聚焦核心平台。

### 1. 目标与价值 (Goal & Value)

-   **要解决的问题 (Problem)**: 当前应用支持的抖音和快手下载器实现复杂，依赖不稳定的第三方 API，维护成本高。小宇宙 FM 的支持尚未实现，属于无效功能。这些功能增加了代码库的复杂性，并可能导致用户体验不稳定。
-   **期望的结果 (Goal)**: 通过移除这些非核心且不稳定的下载功能，简化代码库，降低未来维护的复杂度和成本，让开发团队能更专注于 Bilibili 和 YouTube 等核心平台的稳定性和性能。

### 2. 功能范围 (Scope)

-   [x] 从后端移除 `DouyinDownloader` 及其所有相关逻辑和辅助文件。
-   [x] 从后端移除 `KuaishouDownloader` 及其所有相关逻辑和辅助文件。
-   [x] 从后端移除 `Xiaoyuzhoufm_download` 占位文件。
-   [x] 更新 `video_url_validator.py`，不再将抖音、快手链接识别为支持的 URL。
-   [x] 从前端界面中移除任何提及或支持抖音、快手、小宇宙 FM 的 UI 元素。
-   [ ] (排除) 本次不修改 `yt-dlp` 的核心下载逻辑。
-   [ ] (排除) 本次不修改 Bilibili 和 YouTube 的下载功能。

### 3. 核心用户故事 (Key User Story)

**作为** 开发者,
**我想要** 移除对抖音、快手和小宇宙 FM 的下载支持,
**以便于** 降低代码的维护难度并提升应用的稳定性。

**作为** 用户,
**我想要** 一个更简洁、更稳定的应用,
**以便于** 获得可靠的视频笔记生成体验，而不会因不受支持的平台导致失败。

### 4. 验收标准 (Acceptance Criteria)

-   [x] **标准 1**: 当用户在前端输入抖音、快手或小宇宙 FM 的链接时，系统应立即提示"暂不支持该视频平台或链接格式无效"。
-   [x] **标准 2**: 后端代码库中不再存在 `douyin_downloader.py`, `kuaishou_downloader.py`, `xiaoyuzhoufm_download.py` 以及它们的辅助目录 (`douyin_helper`, `kuaishou_helper`)。
-   [x] **标准 3**: `video_url_validator.py` 中的 `SUPPORTED_PLATFORMS` 字典不再包含 `douyin` 和 `kuaishou`。
-   [x] **标准 4**: 前端设置页面或其他 UI 界面上，不再出现"抖音"、"快手"、"小宇宙"等字样或图标。
-   [x] **标准 5**: 提交包含抖音或快手链接的请求到 `/api/note/generate` 接口时，应返回 4xx 客户端错误，并附带明确的错误信息。

### 5. 关键约束与依赖 (Constraints & Dependencies)

-   **技术约束**: 无。主要是代码删除和修改。
-   **外部依赖**: 无。
-   **数据要求**: 无。